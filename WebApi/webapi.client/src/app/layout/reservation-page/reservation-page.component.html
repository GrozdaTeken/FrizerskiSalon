<div class="container">
    <h1 class="text-center my-3">Rezervišite svoje šišanje</h1>
    <p-timeline [value]="events" [layout]="isLargeScreen ? 'horizontal' : 'vertical'" align="left">
        <ng-template pTemplate="content" let-event>
            {{ event }}
        </ng-template>
    </p-timeline>
    <p class="text-muted text-center">*Ovde će biti prikazano šta ste izabrali</p>

    <div class="d-flex justify-content-center flex-column align-items-center my-3">
        <label for="icondisplay" class="font-bold mb-2">Izaberite datum:</label>
        <p-calendar [(ngModel)]="chosenDate" [minDate]="minDate" [maxDate]="maxDate" [showIcon]="true" inputId="icondisplay"
            (onSelect)="updateDate()"></p-calendar>
    </div>

    <p-tabView styleClass="tabview-custom" (onChange)="selectFrizer(frizers[$event.index].id)">
        <p-tabPanel *ngFor="let frizer of frizers" [header]="frizer.ime + ' ' + frizer.prezime">
            <ng-template pTemplate="header">
                <div class="flex align-items-center gap-2">
                    <p-avatar image="https://primefaces.org/cdn/primeng/images/demo/avatar/amyelsner.png"
                        shape="circle"></p-avatar>
                    <span class="font-bold white-space-nowrap m-0">{{ frizer.ime }} {{ frizer.prezime }}</span>
                </div>
            </ng-template>
            <p-table [value]="reservations" responsiveLayout="stack" [breakpoint]="'960px'"
                [tableStyle]="{'min-width': '50rem'}">
                <ng-template pTemplate="header">
                    <tr>
                        <th>Vreme</th>
                        <th>Status</th>
                        <th>Akcija</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-reservation>
                    <tr [ngClass]="{'row-accessories': reservation.status === 'Zauzeto'}">
                        <td>{{ reservation.time }}</td>
                        <td>
                            <p-tag [value]="reservation.status" [severity]="getSeverity(reservation.status)" />
                        </td>
                        <td>
                            <p-button [icon]="getIcon(reservation.status)" [rounded]="true" 
                                [severity]="getButtonSeverity(reservation.status)" [disabled]="getButtonDisabled(reservation.status)" (onClick)="showDialog()">
                            </p-button>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </p-tabPanel>
    </p-tabView>
    <p-dialog 
    header="Header" 
    [(visible)]="visible" 
    [modal]="true" 
    [style]="{ width: '25rem' }">
        <ng-template pTemplate="header">
            <div class="inline-flex align-items-center justify-content-center gap-2">
                <p-avatar 
                    image="https://primefaces.org/cdn/primeng/images/demo/avatar/amyelsner.png" 
                    shape="circle" />
                <span class="font-bold white-space-nowrap">
                    {{events[1].split(":")[1]}}
                </span>
            </div>
        </ng-template>
        <span class="p-text-secondary block my-5">{{chosenDate}} - {{chosenFrizer?.ime}}</span>
        <div class="flex align-items-center gap-3 mb-3">
            <label for="username" class="font-semibold w-6rem">
                Username
            </label>
            <input pInputText id="username" class="flex-auto" autocomplete="off" />
        </div>
        <div class="flex align-items-center gap-3 mb-5">
            <label for="email" class="font-semibold w-6rem">Email</label>
            <input pInputText id="email" class="flex-auto" autocomplete="off" />
        </div>
        <ng-template pTemplate="footer">
            <p-button 
                label="Cancel" 
                [text]="true" 
                severity="secondary" 
                (onClick)="visible = false" />
            <p-button 
                label="Save" 
                [outlined]="true" 
                severity="secondary" 
                (onClick)="visible = false" 
              />
        </ng-template>
</p-dialog>
</div>
